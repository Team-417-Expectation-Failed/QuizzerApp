<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add quiz</title>
</head>

<body>
    <h2>Add quizzes</h2>
    <div>
        <form th:object="${quiz}" th:action="@{/save}" action="#" method="post">
            <label for="name">Name of the quiz</label>
            <input type="text" id="name" th:field="*{name}" />
            <label for="description">Description</label>
            <input type="text" id="description" th:field="*{description}" />
            <div id="questionList">
                <label for="questionBody0">Question 1</label>
                <input type="text" id="questionBody0" th:field="*{questions[0].questionBody}" />
            </div>
            <button type="button" onclick="addQuestion()">Add another question</button>
            <input type="submit" value="Add quiz" />
        </form>
        <p><a href="/">Back to homepage</a></p>
    </div>

    <script>
        // logic to add more questions, number of questions starts at 1
        let questionCounter = 1; 

        function addQuestion() {
            const questionList = document.getElementById('questionList');
            const newQuestion = document.createElement('div');
            newQuestion.innerHTML = `
                <label for="questionBody${questionCounter}">Question ${questionCounter + 1}</label>
                <input type="text" id="questionBody${questionCounter}" name="questions[${questionCounter}].questionBody" />
            `;
            questionList.appendChild(newQuestion);
            questionCounter++;
        }
    </script>
</body>

</html>